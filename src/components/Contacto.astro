---
import { Icon } from "astro-icon/components";
const formName = "contacto";
---

<section id="contacto" class="py-20 relative bg-neutral-100">
  <!-- Patrón de fondo en modo oscuro, versión mejorada y moderna -->
  <div class="absolute inset-0">
    <svg
      width="100%"
      height="100%"
      xmlns="http://www.w3.org/2000/svg"
      aria-hidden="true"
    >
      <defs>
        <pattern
          id="improved-dark-pattern"
          x="0"
          y="0"
          width="40"
          height="40"
          patternUnits="userSpaceOnUse"
        >
          <!-- Fondo base en tonos oscuros: triángulo principal -->
          <polygon points="40,40 40,0 0,40" fill="#171e60" fill-opacity="0.02"
          ></polygon>
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#improved-dark-pattern)"
      ></rect>
    </svg>
  </div>

  <main class="relative z-10">
    <div class="container mx-auto px-4">
      <!-- Encabezado decorativo -->
      <header class="flex items-center gap-4 mb-8">
        <span class="sm:block h-[2px] flex-1 bg-secondary" aria-hidden="true"
        ></span>
        <p
          class="bg-primary text-white font-medium tracking-wide uppercase text-sm
                 whitespace-nowrap px-4 py-1.5 rounded-sm shadow-glow"
        >
          Contacto
        </p>
        <span class="sm:block h-[2px] flex-1 bg-secondary" aria-hidden="true"
        ></span>
      </header>

      <!-- Título principal -->
      <header class="text-center max-w-3xl mx-auto mb-16">
        <h1
          class="font-serif text-3xl md:text-4xl lg:text-5xl text-primary font-bold mb-4"
        >
          <span class="block">¿Necesitas Asesoría Legal?</span>
        </h1>
        <p class="text-gray-600">
          Completa el formulario y nuestro equipo se pondrá en contacto contigo
          para ayudarte.
        </p>
      </header>

      <!-- Formulario de contacto -->
      <section class="max-w-2xl mx-auto">
        <form
          name={formName}
          action="/exito"
          method="POST"
          data-netlify="true"
          netlify-honeypot="bot-field"
          class="space-y-8 bg-neutral-50 p-8 md:p-10 rounded-sm shadow-lg"
        >
          <!-- Campo oculto para Netlify -->
          <input type="hidden" name="form-name" value={formName} />
          <div class="hidden" aria-hidden="true">
            <label>No rellenar: <input name="bot-field" tabindex="-1" /></label>
          </div>

          <!-- Campos del formulario -->
          <fieldset class="space-y-6">
            <legend class="sr-only">Formulario de contacto</legend>

            <div class="group relative">
              <label
                for="nombre"
                class="block text-base font-semibold text-primary font-serif"
              >
                Nombre completo
                <span class="text-red-500" aria-hidden="true">*</span>
              </label>
              <div class="mt-1 relative rounded-sm shadow-sm">
                <input
                  type="text"
                  id="nombre"
                  name="nombre"
                  required
                  aria-required="true"
                  class="block w-full px-4 py-3 bg-white rounded-sm
                      
                     placeholder:text-gray-400 text-black"
                  placeholder="Ingresa tu nombre completo"
                  title="Por favor ingresa un nombre válido"
                />
              </div>
            </div>

            <div class="group relative">
              <label
                for="email"
                class="block text-base font-semibold text-primary font-serif"
              >
                Correo electrónico <span class="text-red-500" aria-hidden="true"
                  >*</span
                >
              </label>
              <div class="mt-1 relative rounded-sm shadow-sm">
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  aria-required="true"
                  class="block w-full px-4 py-3 bg-white rounded-sm
                      
                  placeholder:text-gray-400 text-black"
                  placeholder="tu@email.com"
                />
              </div>
            </div>

            <div class="group relative">
              <label
                for="mensaje"
                class="block text-base font-semibold text-primary font-serif"
              >
                Consulta <span class="text-red-500" aria-hidden="true">*</span>
              </label>
              <div class="mt-1 relative rounded-sm shadow-sm">
                <textarea
                  id="mensaje"
                  name="mensaje"
                  rows="5"
                  required
                  aria-required="true"
                  class="block w-full px-4 py-3 bg-white rounded-sm placeholder:text-gray-400 text-black resize-none"
                  placeholder="¿Cómo podemos ayudarte? Cuéntanos brevemente tu caso..."
                ></textarea>
              </div>
            </div>
          </fieldset>

          <div class="text-center pt-6 group">
            <button
              type="submit"
              class="inline-flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-sm shadow-sm disabled:opacity-50 cursor-pointer"
            >
              <span>Enviar consulta</span>
              <Icon
                name="mdi:send"
                class="w-4 h-4 transition-transform group-hover:translate-x-1"
              />
            </button>
          </div>
        </form>
      </section>
    </div>
  </main>
</section>
