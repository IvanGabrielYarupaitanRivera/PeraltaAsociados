---
import { Icon } from "astro-icon/components";

interface Props {
  ventajas: {
    titulo: string;
    descripcion: string;
    icono: string;
  }[];
}

const { ventajas } = Astro.props;
---

<section class="py-20 relative bg-neutral-100">
  <!-- Patrón de fondo -->
  <div class="absolute inset-0 opacity-30">
    <svg
      width="100%"
      height="100%"
      xmlns="http://www.w3.org/2000/svg"
      aria-hidden="true"
    >
      <pattern
        id="subtle-pattern"
        x="0"
        y="0"
        width="40"
        height="40"
        patternUnits="userSpaceOnUse"
      >
        <path
          d="M0 20h40M20 0v40"
          stroke="#171E60"
          stroke-width="0.5"
          stroke-opacity="0.2"
          fill="none"></path>
        <circle cx="20" cy="20" r="1" fill="#171E60" fill-opacity="0.2"
        ></circle>
      </pattern>
      <rect width="100%" height="100%" fill="url(#subtle-pattern)"></rect>
    </svg>
  </div>

  <!-- Contenido principal -->
  <div class="container relative z-10 mx-auto px-4">
    <!-- Encabezado decorativo -->
    <header class="flex items-center gap-4 mb-8">
      <span class="sm:block h-[2px] flex-1 bg-secondary" aria-hidden="true"
      ></span>
      <p
        class="text-secondary font-medium tracking-wide uppercase text-sm whitespace-nowrap"
      >
        Nuestros Beneficios
      </p>
      <span class="sm:block h-[2px] flex-1 bg-secondary" aria-hidden="true"
      ></span>
    </header>

    <!-- Encabezado -->
    <header class="text-center max-w-3xl mx-auto mb-16">
      <h2
        class="font-serif text-3xl md:text-4xl lg:text-5xl text-primary font-bold mb-4"
      >
        ¿Por qué elegirnos?
      </h2>
      <p class="text-gray-600">
        Experiencia comprobada defendiendo sus derechos en Huancavelica.
      </p>
    </header>

    <!-- Grid de ventajas -->
    <section
      class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-12"
      aria-label="Ventajas de nuestros servicios"
    >
      {
        ventajas.map(({ titulo, descripcion, icono }) => (
          <article
            class="relative p-8 bg-white rounded-sm shadow-sm hover:shadow-xl transition-all duration-300 group"
            role="region"
            aria-labelledby={`titulo-${titulo.toLowerCase().replace(/\s+/g, "-")}`}
          >
            <header class="relative flex flex-col items-start gap-6 mb-6">
              <div class="p-3 rounded-full bg-primary/5 transition-all duration-300 group-hover:bg-primary/10">
                <Icon
                  name={icono}
                  class="w-6 h-6 text-primary transition-all duration-300 group-hover:scale-110"
                  aria-hidden="true"
                />
              </div>

              <div class="space-y-3">
                <div class="h-0.5 w-12 bg-secondary/80" aria-hidden="true" />
                <h3
                  id={`titulo-${titulo.toLowerCase().replace(/\s+/g, "-")}`}
                  class="font-serif text-xl text-primary font-bold tracking-tight"
                >
                  {titulo}
                </h3>
              </div>
            </header>

            <p class="text-gray-600 text-pretty">{descripcion}</p>

            <div class="absolute bottom-0 left-0 h-1 w-0 bg-secondary transition-all duration-500 group-hover:w-full" />
          </article>
        ))
      }
    </section>
  </div>
</section>
